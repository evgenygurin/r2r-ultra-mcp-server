{
  "mcpServers": {
    "r2r-layer1": {
      "command": "python",
      "args": ["/Users/laptop/dev/r2r-fastmcp/mcp-server/layer1_openapi.py"],
      "env": {
        "R2R_BASE_URL": "${R2R_BASE_URL:-https://api.136-119-36-216.nip.io}",
        "API_KEY": "${API_KEY}"
      },
      "description": "R2R Layer 1: OpenAPI Basic Tools - 1-to-1 mapping of all R2R API endpoints"
    },
    "r2r-smart": {
      "command": "python",
      "args": ["/Users/laptop/dev/r2r-fastmcp/mcp-server/layer2_smart.py"],
      "env": {
        "R2R_BASE_URL": "${R2R_BASE_URL:-https://api.136-119-36-216.nip.io}",
        "API_KEY": "${API_KEY}"
      },
      "description": "R2R Layer 2: Smart Composite Tools - intelligent workflows and multi-step operations"
    },
    "r2r": {
      "command": "python",
      "args": ["/Users/laptop/dev/r2r-fastmcp/mcp-server/server.py"],
      "env": {
        "R2R_BASE_URL": "${R2R_BASE_URL:-https://api.136-119-36-216.nip.io}",
        "API_KEY": "${API_KEY}"
      },
      "description": "R2R Main Server: Core tools (search, rag, agent) with workflows and examples"
    }
  },
  "hooks": {
    "SessionStart": [
      {
        "type": "command",
        "command": ".claude/hooks/SessionStart/check-r2r.md"
      },
      {
        "type": "command",
        "command": ".claude/hooks/SessionStart/load-r2r-context.md"
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/PreToolUse/log-r2r-commands.md"
          }
        ]
      },
      {
        "matcher": "user-r2r*",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/PreToolUse/log-mcp-calls.md"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/PostToolUse/log-r2r-results.md"
          }
        ]
      },
      {
        "matcher": "user-r2r*",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/PostToolUse/log-mcp-results.md"
          }
        ]
      }
    ]
  },
  "permissions": {
    "allowedTools": [
      "Read(**/*.{md,txt,json,py,js,ts,sh,yml,yaml})",
      "Bash(.claude/scripts/**)",
      "Bash(r2r:*)",
      "Grep",
      "Glob",
      "LS",
      "SemanticSearch",
      "user-r2r*"
    ],
    "deniedTools": [
      "Bash(rm:*)",
      "Bash(curl:*)",
      "Edit(/config/*)",
      "Write(/secrets/*)"
    ]
  },
  "permissionMode": "default",
  "sandbox": {
    "allowUnsandboxedCommands": false
  },
  "skills": {
    "enabled": true,
    "autoLoad": [
      "r2r-document-analyzer",
      "r2r-knowledge-explorer-skill",
      "r2r-research-assistant-skill",
      "r2r-mcp-search-skill",
      "r2r-mcp-rag-skill",
      "r2r-mcp-agent-skill"
    ]
  },
  "agents": {
    "enabled": true,
    "projectAgents": [
      "research-assistant",
      "doc-analyst",
      "knowledge-explorer",
      "mcp-research-agent",
      "mcp-knowledge-agent"
    ]
  },
  "commands": {
    "enabled": true,
    "projectCommands": [
      "r2r",
      "r2r-search",
      "r2r-rag",
      "r2r-agent",
      "r2r-collections",
      "r2r-upload",
      "r2r-examples",
      "r2r-workflows",
      "r2r-quick",
      "r2r-mcp",
      "r2r-mcp-search",
      "r2r-mcp-rag",
      "r2r-mcp-agent",
      "cc",
      "cc-hooks",
      "cc-commands",
      "cc-mcp",
      "cc-subagents",
      "cc-setup"
    ]
  },
  "telemetry": {
    "enabled": false
  }
}
